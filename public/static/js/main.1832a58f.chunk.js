(this['webpackJsonpmesto-react'] = this['webpackJsonpmesto-react'] || []).push([[0], {
  12(e, t, a) { e.exports = a(18); },
  17(e, t, a) {},
  18(e, t, a) {
    a.r(t); const n = a(0); const o = a.n(n); const c = a(7); const r = a.n(c); const s = (a(17), a(11)); const l = a(2); const i = a(1); const u = a(8); const m = a.n(u); const p = function () { return o.a.createElement('header', { className: 'header' }, o.a.createElement('img', { className: 'header__logo hover-style', src: m.a, alt: '\u043b\u043e\u0433\u043e\u0442\u0438\u043f Mesto Russia' })); }; const d = o.a.createContext(); const h = function (e) {
      const t = e.card; const a = e.onCardClick; const c = e.onCardDelete; const r = e.onCardLike; const s = Object(n.useContext)(d); const l = t.owner._id === s._id; const i = 'card__recycle-bin hover-style '.concat(l ? '' : 'card__recycle-bin_hidden'); const u = t.likes.some(((e) => e._id === s._id)); const m = 'card__like hover-style '.concat(u && 'card__like_active'); return o.a.createElement('li', { className: 'card' }, o.a.createElement('img', {
        className: 'card__image', alt: ''.concat(t.name), src: ''.concat(t.link), onMouseUp() { a(t); },
      }), o.a.createElement('button', {
        className: i, onMouseUp() { c(t); }, type: 'button', 'aria-label': '\u0423\u0434\u0430\u043b\u0438\u0442\u044c',
      }), o.a.createElement('h3', { className: 'card__title' }, t.name), o.a.createElement('button', {
        className: m, onMouseUp() { r(t); }, type: 'button', 'aria-label': '\u041b\u0430\u0439\u043a\u043d\u0443\u0442\u044c',
      }), o.a.createElement('p', { className: 'card__like-count' }, t.likes.length));
    }; const f = function (e) {
      const t = e.onEditAvatar; const a = e.onEditProfile; const c = e.onAddPlace; const r = e.onCardClick; const s = e.cards; const l = e.onCardLike; const i = e.onCardDelete; const u = Object(n.useContext)(d); return o.a.createElement('main', { className: 'content' }, o.a.createElement('section', { className: 'profile' }, o.a.createElement('button', {
        onMouseUp() { return t(); }, className: 'profile__photobtn', type: 'button', 'aria-label': '\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f', style: { backgroundImage: 'url('.concat(u.avatar, ')') },
      }, o.a.createElement('div', { className: 'profile__photobtn-overlay' })), o.a.createElement('h1', { className: 'profile__name' }, u.name), o.a.createElement('p', { className: 'profile__job' }, u.about), o.a.createElement('button', {
        onMouseUp() { return a(); }, className: 'profile__edit-button hover-style', type: 'button', 'aria-label': '\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f',
      }), o.a.createElement('button', {
        onMouseUp() { return c(); }, className: 'profile__add-button hover-style', type: 'button', 'aria-label': '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443',
      })), o.a.createElement('section', { className: 'gallery-cards' }, o.a.createElement('ul', { className: 'gallery' }, s.map(((e) => o.a.createElement(h, {
        key: e._id, card: e, onCardClick: r, onCardLike: l, onCardDelete: i,
      }))))));
    }; const _ = function () { return o.a.createElement('footer', { className: 'footer' }, o.a.createElement('p', { className: 'footer__copyright' }, '\xa9 2020 Mesto Russia')); }; const b = function (e) {
      const t = e.onClose; const a = (e.onUpdateUser, e.onChange, e.name); const c = e.title; const r = e.isOpen; const s = e.onSubmit; const l = e.children; const i = function (e) { e.key === 'Escape' && t(); }; return Object(n.useEffect)((() => (document.addEventListener('keydown', i), function () { return document.removeEventListener('keydown', i); })), [{ isOpen: r }]), o.a.createElement('section', { className: 'popup '.concat(r ? 'popup_is-opened' : '', ' popup_').concat(a), onMouseDown(e) { e.target === e.currentTarget && r && t(); } }, o.a.createElement('form', {
        className: 'popup__form', action: '#', noValidate: !0, onSubmit: s,
      }, o.a.createElement('button', {
        className: 'popup__close hover-style', type: 'button', 'aria-label': '\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f', onClick: t,
      }), o.a.createElement('fieldset', { className: 'popup__content' }, o.a.createElement('h3', { className: 'popup__title' }, ''.concat(c)), l)));
    }; const v = function (e) {
      const t = e.card; const a = e.onClose; return e.isOpen, o.a.createElement('section', { className: 'popup popup_zoom '.concat(t.isImgPopupOpen ? 'popup_is-opened' : '') }, o.a.createElement('figure', { className: 'zoom' }, o.a.createElement('button', {
        className: 'popup__close popup__close_figure hover-style', type: 'button', 'aria-label': '\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443', onClick() { a(t); },
      }), o.a.createElement('img', { className: 'zoom__image', src: ''.concat(t.link), alt: ''.concat(t.name) }), o.a.createElement('figcaption', { className: 'zoom__caption' }, ''.concat(t.name))));
    }; const E = a(9); const g = a(10); const k = new (function () { function e(t) { const a = t.baseUrl; const n = t.headers; Object(E.a)(this, e), this.baseUrl = a, this.headers = n; } return Object(g.a)(e, [{ key: 'getInitialItems', value() { return fetch(''.concat(this.baseUrl, '/cards'), { headers: this.headers }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'postItem', value(e) { const t = e.name; const a = e.link; return fetch(''.concat(this.baseUrl, '/cards'), { method: 'POST', headers: this.headers, body: JSON.stringify({ name: t, link: a }) }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'deleteItem', value(e) { return fetch(''.concat(this.baseUrl, '/cards/').concat(e), { method: 'DELETE', headers: this.headers }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'patchUserAvatar', value(e) { return fetch(''.concat(this.baseUrl, '/users/me/avatar'), { method: 'PATCH', headers: this.headers, body: JSON.stringify(e) }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'getUserData', value() { return fetch(''.concat(this.baseUrl, '/users/me'), { headers: this.headers }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'patchUserData', value(e) { const t = e.name; const a = e.about; return fetch(''.concat(this.baseUrl, '/users/me'), { method: 'PATCH', headers: this.headers, body: JSON.stringify({ name: t, about: a }) }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'putLike', value(e) { return fetch(''.concat(this.baseUrl, '/cards/likes/').concat(e), { method: 'PUT', headers: this.headers }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'deleteLike', value(e) { return fetch(''.concat(this.baseUrl, '/cards/likes/').concat(e), { method: 'DELETE', headers: this.headers }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }, { key: 'changeLikeCardStatus', value(e, t) { return fetch(''.concat(this.baseUrl, '/cards/likes/').concat(e), { method: ''.concat(t ? 'PUT' : 'DELETE'), headers: this.headers, body: JSON.stringify({ _id: e }) }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443:: '.concat(e.status))))); } }]), e; }())({ baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14', headers: { authorization: 'd53467ef-75db-4cf1-9a1c-2d2c544f18c8', 'Content-Type': 'application/json' } }); const N = a(3); const j = function (e) {
      const t = e.isOpen; const a = e.onClose; const c = e.onUpdateUser; const r = Object(n.useState)({ name: '', about: '' }); const s = Object(i.a)(r, 2); const u = s[0]; const m = s[1]; function p(e) { const t = e.target; t.name, t.value; m(Object(l.a)(Object(l.a)({}, u), {}, Object(N.a)({}, t.name, t.value))); } return o.a.createElement(b, {
        name: 'profile-edit', title: '\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c', isOpen: t, onClose: a, onSubmit(e) { e.preventDefault(), c(u); },
      }, o.a.createElement('label', { className: 'popup__label' }, o.a.createElement('input', {
        className: 'popup__input popup__input_name', type: 'text', name: 'name', value: u.name, placeholder: '\u0418\u043c\u044f', autoComplete: 'name', required: !0, minLength: '2', maxLength: '40', onChange: p,
      }), o.a.createElement('span', { className: 'popup__error' })), o.a.createElement('label', { className: 'popup__label' }, o.a.createElement('input', {
        className: 'popup__input popup__input_about', type: 'text', name: 'about', value: u.about, autoComplete: 'off', placeholder: '\u041e \u0441\u0435\u0431\u0435', required: !0, minLength: '2', maxLength: '200', onChange: p,
      }), o.a.createElement('span', { className: 'popup__error' })), o.a.createElement('button', { className: 'popup__button', type: 'submit', 'aria-label': '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f' }, '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c'));
    }; const O = function (e) {
      const t = e.isOpen; const a = e.onClose; const n = e.onUpdateAvatar; const c = o.a.useRef(''); return o.a.createElement(b, {
        name: 'update-avatar', title: '\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440', isOpen: t, onClose: a, onSubmit(e) { e.preventDefault(), n({ avatar: c.current.value }); },
      }, o.a.createElement('label', { className: 'popup__label' }, o.a.createElement('input', {
        ref: c, className: 'popup__input popup__input_update-avatar', name: 'thirdInp', defaultValue: '', placeholder: '\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u043e\u0442\u043e', type: 'url',
      }), o.a.createElement('span', { className: 'popup__error' })), o.a.createElement('button', {
        className: 'popup__button', type: 'submit', 'aria-label': '\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f', value: '',
      }, '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c'));
    }; const y = function (e) {
      const t = e.isOpen; const a = e.onClose; const c = e.onAddPlace; const r = Object(n.useState)({ name: '', link: '' }); const s = Object(i.a)(r, 2); const u = s[0]; const m = s[1]; function p(e) { const t = e.target; t.name, t.value; m(Object(l.a)(Object(l.a)({}, u), {}, Object(N.a)({}, t.name, t.value))); } return o.a.createElement(b, {
        name: 'confirm', title: '\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e', isOpen: t, onClose: a, onSubmit(e) { e.preventDefault(), c(u); },
      }, o.a.createElement('label', { className: 'popup__label' }, o.a.createElement('input', {
        className: 'popup__input popup__input_place-name', type: 'text', name: 'name', value: u.name, onChange: p, autoComplete: 'off', placeholder: '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435', minLength: '1', maxLength: '30', required: !0,
      }), o.a.createElement('span', { className: 'popup__error' })), o.a.createElement('label', { className: 'popup__label' }, o.a.createElement('input', {
        className: 'popup__input popup__input_image_url', type: 'url', inputMode: 'url', name: 'link', value: u.link, onChange: p, placeholder: '\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443', required: !0,
      }), o.a.createElement('span', { className: 'popup__error' })), o.a.createElement('button', { className: 'popup__button', type: 'submit', 'aria-label': '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443' }, '\u0421\u043e\u0437\u0434\u0430\u0442\u044c'));
    }; const C = function () {
      const e = Object(n.useState)(!1); const t = Object(i.a)(e, 2); const a = t[0]; const c = t[1]; const r = Object(n.useState)(!1); const u = Object(i.a)(r, 2); const m = u[0]; const h = u[1]; const E = Object(n.useState)(!1); const g = Object(i.a)(E, 2); const N = g[0]; const C = g[1]; const U = Object(n.useState)({}); const P = Object(i.a)(U, 2); const S = P[0]; const L = P[1]; const D = Object(n.useState)({}); const w = Object(i.a)(D, 2); const I = w[0]; const A = w[1]; const x = Object(n.useState)([]); const M = Object(i.a)(x, 2); const T = M[0]; const J = M[1]; function z(e) { c(!1), h(!1), C(!1), L(Object(l.a)(Object(l.a)({}, e), {}, { isImgPopupOpen: !1 })); } return Object(n.useEffect)((() => { Promise.all([k.getUserData(), k.getInitialItems()]).then(((e) => { const t = Object(i.a)(e, 2); const a = t[0]; const n = t[1]; console.log(a, n), A(a), J(n); })).catch(((e) => { console.log('\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 Promise.all '.concat(e)); })); }), []), o.a.createElement(d.Provider, { value: I }, o.a.createElement('div', { className: 'page' }, o.a.createElement('div', { className: 'page__container' }, o.a.createElement('div', { className: 'page__header-and-main-wrapper' }, o.a.createElement(p, null), o.a.createElement(f, {
        onEditAvatar() { c(!0); }, onEditProfile() { h(!0); }, onAddPlace() { C(!0); }, onCardClick(e) { L(Object(l.a)(Object(l.a)({}, e), {}, { isImgPopupOpen: !0 })); }, cards: T, onCardLike(e) { const t = e.likes.some(((e) => e._id === I._id)); k.changeLikeCardStatus(e._id, !t).then(((t) => { const a = T.map(((a) => (a._id === e._id ? t : a))); J(a); })).catch(((e) => { console.log(''.concat(e)); })); }, onCardDelete(e) { k.deleteItem(e._id).then((() => { J(T.filter(((t) => t !== e))); })).catch(((e) => console.log(''.concat(e)))); },
      })), o.a.createElement(_, null)), o.a.createElement(b, { card: S, onClose: z }), o.a.createElement(v, { card: S, onClose: z }), o.a.createElement(j, { isOpen: m, onClose: z, onUpdateUser(e) { const t = e.name; const a = e.about; k.patchUserData({ name: t, about: a }).then(((e) => { A(e), z(); })).catch(((e) => { console.log(''.concat(e)); })); } }), o.a.createElement(O, { isOpen: a, onClose: z, onUpdateAvatar(e) { k.patchUserAvatar(e).then(((e) => { A(e), z(); })).catch(((e) => { console.log(''.concat(e)); })); } }), o.a.createElement(y, { isOpen: N, onClose: z, onAddPlace(e) { const t = e.name; const a = e.link; k.postItem({ name: t, link: a }).then(((e) => { J([e].concat(Object(s.a)(T))), z(); })).catch(((e) => { console.log(''.concat(e)); })); } })));
    }; Boolean(window.location.hostname === 'localhost' || window.location.hostname === '[::1]' || window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)); r.a.render(o.a.createElement(o.a.StrictMode, null, o.a.createElement(C, null)), document.getElementById('root')), 'serviceWorker' in navigator && navigator.serviceWorker.ready.then(((e) => { e.unregister(); })).catch(((e) => { console.error(e.message); }));
  },
  8(e, t, a) { e.exports = `${a.p}static/media/logo.661315c6.svg`; },
}, [[12, 1, 2]]]);
// # sourceMappingURL=main.1832a58f.chunk.js.map
